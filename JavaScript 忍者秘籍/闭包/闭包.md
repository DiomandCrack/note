# 闭包

闭包允许函数访问并操作函数外部的变量。只要变量或函数存在于声明函数时的作用域内，闭包即可使函数能够访问这些变量或函数

## 词法环境

词法环境 -作用域 是JavaScript引擎内部用来跟踪标识符与特定变量之间的映射关系

- 通过闭包可以访问创建闭包时所处环境中的全部变量。闭包为函数创建时所处的作用域中的函数和变量，创建“安全气泡”。通过这种的方式，即使创建时所处的作用域已经消失，但是函数仍然能够获得执行时所需的全部内容。

- 可以使用闭包的这行搞基功能
  - 通过构造函数内的变量以及构造方法来模拟对象的私有属性
  - 处理回调函数，简化代码

- JavaScript 引擎通过执行上下文栈(调用栈)跟踪函数的统计。每次调用函数时。都会创建新的函数执行上下文，并推入调用栈顶端。当函数执行完成后，对应的执行上下文将从调用栈中推出。

- JavaScript 引擎通过词法环境跟踪标识符

- 在JavaScript中，我们可以定义全局级别、函数级别甚至块级别的变量

- 可以使用关键字var、let和const定义变量；
  - 关键字 var 定义距离最近的函数级变量或全局变量
  - 关键字 let 与 const 定义距离最近级别的变量，包括块级变量。块级变量在ES6之前版本的JavaScript中是无法实现的。此外，通过关键字const允许定义只能赋值一次的变量。

- 闭包是JavaScript作用域规则的副作用。当函数创建时所在的作用域消失后，仍然能够调用函数